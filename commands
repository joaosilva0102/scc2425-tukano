mvn clean install

kubectl apply -f Kubernetes-Redis/redis-deployment.yaml
kubectl apply -f Kubernetes-Redis/redis-service.yaml
kubectl apply -f Kubernetes-Postgres/persistent-volume-postgres.yml
kubectl apply -f Kubernetes-Postgres/persistent-volume-claim-postgres.yml
kubectl apply -f Kubernetes-Postgres/postgres-secrets.yml
kubectl apply -f Kubernetes-Postgres/postgres-deployment.yml
kubectl apply -f Kubernetes-Postgres/postgres-service.yml

cd users-shorts
docker build -t joaosilva0102/tukano-users-shorts .
docker push joaosilva0102/tukano-users-shorts

kubectl apply -f tukano-service.yaml

cd ..

cd blobs
docker build -t joaosilva0102/tukano-blobs .
docker push joaosilva0102/tukano-blobs

kubectl apply -f persistent-volume.yaml
kubectl apply -f blobs-service.yaml

cd ..

kubectl get pods

minikube service tukano-service

kubectl logs -f tukano-service-<id>

kubectl get services

kubectl delete deployments,services,pods --all
kubectl delete deployments,services,pods,pvc,pv --all
kubectl delete pvc --all
kubectl delete pv --all



